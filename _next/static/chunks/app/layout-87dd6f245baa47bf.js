(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{96637:function(e,t,s){Promise.resolve().then(s.t.bind(s,8367,23)),Promise.resolve().then(s.bind(s,57878)),Promise.resolve().then(s.t.bind(s,9487,23)),Promise.resolve().then(s.t.bind(s,29180,23)),Promise.resolve().then(s.t.bind(s,62888,23)),Promise.resolve().then(s.t.bind(s,81490,23)),Promise.resolve().then(s.t.bind(s,80265,23))},57878:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return PageLayout}});var n=s(31113),a=s(20449),l=s(22139),i=s(26504),r=s(19757),d=s(59175),o=s(15506),c=s(70121),m=s(33883),h=s(33501),x=s(41690),u=s.n(x),f=s(42487),p=s.n(f),g=s(69708),j=s(64103),v=s(39341),b=s(13626),w=s(44726),k=s(84253),N=s(72366);function ConnectBtn(){return(0,w.Z)(1024),(0,n.jsx)(m.NL,{chainStatus:"none",showBalance:!1})}var y=s(44769),S=s(45313),C=s(23449),P=s(71492);function SwitchChain(){let e=(0,d.p)(),t=(0,g.usePathname)(),s=!t||"/"==t,i=(0,j.useMemo)(()=>[...a.Af.map(e=>({name:e.name,icon:e.iconUrl||"/ETH.svg",chain:e})),{name:"Story",icon:"storynetwork.png",toUrl:l.QG}],[y.Kh.value]),r=s?i[i.length-1]:i.find(t=>{var s;return(null===(s=t.chain)||void 0===s?void 0:s.id)==e}),[o,c]=(0,j.useState)(!1),{switchChain:m}=(0,P.o)(),h=(0,g.useRouter)(),x=(0,j.useRef)(null);(0,C.Z)(x,()=>{c(!1)});let{chainId:f,isConnected:p}=(0,N.m)(),v=a.Af.find(e=>e.id==f),b=!v&&p,onClickItem=e=>{e.chain&&(e!==r||b)?m({chainId:e.chain.id}):e.toUrl&&h.push(e.toUrl)};return r?(0,n.jsxs)(n.Fragment,{children:[b?(0,n.jsx)("div",{className:"flex items-center gap-2 text-sm font-bold rounded-lg cursor-pointer relative px-2 h-10 bg-red-500 text-white",onClick:()=>!s&&c(!0),children:"Wrong network"}):(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium rounded-lg cursor-pointer relative px-2 h-10",onClick:()=>!s&&c(!0),children:[(0,n.jsx)(u(),{width:24,height:24,src:r.icon,alt:""}),(0,n.jsx)("div",{className:"hidden sm:block",children:r.name})]}),o&&(0,n.jsx)("div",{className:"fixed bg-black/30 w-screen h-screen left-0 top-0 flex",children:(0,n.jsxs)("div",{ref:x,className:"bg-white shadow-sm dark:bg-slate-800 rounded-2xl m-auto w-full max-w-sm p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-lg font-extrabold",children:"Switch Networks"}),(0,n.jsx)("div",{className:"w-7 h-7 flex justify-center items-center rounded-full border border-slate-400 bg-black/5 hover:bg-black/20 cursor-pointer",onClick:()=>c(!1),children:(0,n.jsx)(S.q5L,{})})]}),(0,n.jsx)("div",{className:"mt-4",children:i.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg cursor-pointer ".concat(e!=r||b?"":"bg-indigo-400"),onClick:()=>onClickItem(e),children:[(0,n.jsx)(u(),{width:24,height:24,src:e.icon,alt:""}),(0,n.jsx)("div",{className:"",children:e.name})]},e.name))})]})})]}):null}var T=s(26361),I=s(69426),z=s(48338),D=s(15166),L=s(16916);function SimpleDialog(e){let{trigger:t,children:s,className:a,style:l,closeClassName:i,disableOutClose:r,disableClose:d,triggerProps:o,...c}=e;return(0,n.jsxs)(D.fC,{...c,children:[(0,n.jsx)(D.xz,{...o||{},children:t}),(0,n.jsxs)(D.h_,{children:[(0,n.jsx)(D.aV,{className:"fixed top-0 left-0 inset-0 z-50 bg-black/60"}),(0,n.jsxs)(D.VY,{onEscapeKeyDown:e=>{d&&e.stopPropagation(),d&&e.preventDefault()},onInteractOutside:e=>{console.info("e:",e),r&&e.stopPropagation(),r&&e.preventDefault()},style:l,className:(0,T.cn)("fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[640px] -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-[#333333] rounded-2xl overflow-hidden shadow-2xl z-50",a),children:[s,(0,n.jsx)(D.x8,{disabled:d,className:(0,T.cn)("absolute right-4 top-4 cursor-point text-xl",i),children:(0,n.jsx)(L.abH,{})})]})]})]})}let getThemeState=()=>{let e="light",t="light";return"dark"!==localStorage.theme&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.remove("dark"),e="light",t="light"):(document.documentElement.classList.add("dark"),e="dark",t="dark"),"theme"in localStorage||(e="system"),{themeMode:e,theme:t}},A=(0,z.Ue)(e=>({...getThemeState(),setThemeMode:t=>e(()=>({themeMode:t})),setTheme:t=>e(()=>({theme:t}))})),E={light:(0,n.jsx)(I.EWX,{}),dark:(0,n.jsx)(I.Dq,{}),system:(0,n.jsx)(I.pUp,{})};function ThemeMode(){let e=A(),onChangeTheme=()=>{let{theme:t,themeMode:s}=getThemeState();e.setTheme(t),e.setThemeMode(s)};(0,j.useEffect)(()=>{onChangeTheme()},[]);let onClick=e=>{"System"==e?localStorage.removeItem("theme"):localStorage.theme=e.toLocaleLowerCase(),onChangeTheme()};return(0,n.jsx)(SimpleDialog,{className:"max-w-[200px] py-10 flex flex-col text-base text-stone-500 dark:text-white",trigger:(0,n.jsx)("div",{className:"text-xl",children:E[e.theme]}),children:["Light","Dark","System"].map((t,s)=>(0,n.jsxs)("div",{className:(0,T.cn)("flex px-5 items-center py-2 gap-3 cursor-pointer",{"bg-stone-100 dark:bg-zinc-700":t.toLowerCase()==e.themeMode}),onClick:()=>onClick(t),children:[(0,n.jsx)("div",{className:"text-2xl",children:E[t.toLowerCase()]}),(0,n.jsx)("span",{className:"",children:t})]},"theme_mode_"+t))})}let U=[{name:"doc",url:(0,l.xb)(),icon:b.K99},{name:"Twitter",url:l.v,icon:b.vJk},{name:"Discord",url:l.Hj,icon:b.HpO}];function Header(){let e=(0,g.usePathname)(),{width:t}=(0,w.Z)(window.innerWidth,window.innerHeight),s="/"!==e&&t<1024;(0,d.p)();let{openChainModal:x}=(0,m.iC)(),f=function(){var e,t;let s=(0,d.p)(),{address:n}=(0,N.m)(),{data:a}=(0,o.D2)({abi:i.WW,address:null===(t=r.iK[s])||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.vault,functionName:"owner",query:{enabled:!!n}});return!!n&&n==a}(),k=function(){var e,t;let s=(0,d.p)(),{address:n}=(0,N.m)(),{data:a}=(0,o.D2)({abi:i.Og,address:null===(t=r.iK[s])||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.assetTokenFeed,functionName:"isTester",args:[n],query:{enabled:!!n}});return!!a}(),y=(0,j.useMemo)(()=>{let e=[];return f&&e.push({href:"/admin",label:"Admin",icon:v.C5v}),k&&e.push({href:"/tester",label:"Tester",icon:v.rv8}),e},[f,k]),{chain:S,address:C}=(0,N.m)();return S&&-1!=a.Af.findIndex(e=>e.id==S.id)&&a.Af.length,(0,n.jsx)("div",{className:"h-[72px] fixed w-full flex bg-slate-50/30 backdrop-blur-lg dark:text-slate-50 dark:bg-slate-900/30 z-30",children:(0,n.jsxs)("header",{className:"h-[72px] w-full max-w-[1440px] inset-0 mx-auto flex items-center justify-between px-4   z-30 ml-[calc(100vw - 100%)] w-f ",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(p(),{href:"/",className:"flex items-center pr-1 text-base font-semibold leading-7",children:[(0,n.jsx)(u(),{className:"",src:"/logo-alt.svg",height:52,width:52,alt:"wand logo image only"}),(0,n.jsx)("span",{className:"font-poppins",style:{display:s?"none":"inline-block"},children:"Wand"})]}),(0,n.jsxs)(c.fC,{children:[(0,n.jsxs)(c.xz,{className:(0,h.Z)("flex text-slate-500 dark:text-slate-50 font-medium items-center capitalize text-sm",{hidden:!s}),children:[e.split("/")[1],(0,n.jsx)(b.YRR,{})]}),(0,n.jsx)(c.Uv,{children:(0,n.jsx)(c.VY,{className:"z-50 p-1 bg-white border rounded-md shadow-lg border-slate-200 dark:bg-gray-800 dark:border-gray-700",children:y.map(e=>{let{href:t,label:s,icon:a}=e;return(0,n.jsx)(c.ck,{children:(0,n.jsxs)(p(),{className:"flex items-center gap-1 px-3 py-2 text-sm font-medium rounded-sm text-slate-500 hover:bg-slate-50 dark:text-slate-50 dark:hover:bg-gray-700/30",href:t,children:[(0,n.jsx)(a,{}),s]})},s)})})})]})]}),"/"!==e?(0,n.jsx)("div",{className:"items-center justify-between flex-1 hidden px-5 lg:flex",children:y.map(t=>{let{href:s,label:a,icon:l}=t;return(0,n.jsxs)(p(),{className:(0,h.Z)("text-sm font-medium flex gap-1 mx-auto items-center transition-all active:translate-y-1",e===s?"text-slate-700 dark:text-slate-50":"text-slate-500 dark:text-slate-50/50"),href:s,children:[(0,n.jsx)(l,{}),a]},s)})}):null,(0,n.jsxs)("div",{className:"flex items-center gap-1 md:gap-4",children:[(0,n.jsx)(ThemeMode,{}),(0,n.jsx)("div",{className:"items-center hidden gap-3 lg:flex",children:U.map(e=>{let{url:t,icon:s,name:a}=e;return(0,n.jsx)(p(),{href:t,className:"text-slate-300 hover:text-indigo-500",children:(0,n.jsx)(s,{})},a)})}),"/"!==e&&(0,n.jsx)(SwitchChain,{}),"/"===e?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p(),{href:l.QG,className:"px-4 py-2 text-sm font-medium leading-6 text-white bg-indigo-500 rounded-full h-fit whitespace-nowrap",children:"Launch App"})}):(0,n.jsx)(ConnectBtn,{})]})]})})}k.F.id,a.dm.id,a.A2.id,a.mx.id,k.F.id,a.dm.id,a.A2.id,a.mx.id;var _=s(47259),H=s(53745),M=s(81615),W=s(79469),F=s(64620),Z=s(79476),q=s(59220),K=s(81854),O=s(38103),R=s(55045),V=s(40491),B=s(29993),Q=s(51625),Y=s(73920),G=s(15187),J=s(45248),X=s(99946),$=s(9068),ee=s(85895),et=s(8912),es=s(7915),en=s(32417),ea=s(83037),el=s(1195),ei=s(6069);let er=new ee.f({uri:"https://api.studio.thegraph.com/query/45897/wand/version/latest",cache:new et.h}),ed={batchSize:10,wait:500},eo={batchSize:100,wait:500},ec=new en.S;function Providers(e){let{children:t}=e,[s,l]=j.useState();j.useEffect(()=>{let e=(0,Q.o)({storage:{getItem:e=>window.localStorage.getItem(e),removeItem:e=>window.localStorage.removeItem(e),setItem:(e,t)=>{"wagmi.cache"!==e&&localStorage.setItem(e,t)}}}),t=(0,m.a3)([{groupName:"Recommended",wallets:[W.U,F.P,Z.D,q.b,K.c,O.X,R.J,V.b,B.D]}],{appName:"Wand",projectId:"b3ff10277f66a6ba31bbb88fb6ea4365"});l((0,Y._)({connectors:t,storage:e,chains:a.Af,client:e=>{let{chain:t}=e;return(0,el.e)({chain:t,transport:(0,ei.d)(t.rpcUrls.default.http[0],{batch:ed}),batch:{multicall:eo}})}}))},[]);let i=A(e=>e.theme);return s?(0,n.jsx)(es.e,{client:er,children:(0,n.jsx)(G.F,{config:s,children:(0,n.jsx)(ea.aH,{client:ec,children:(0,n.jsx)(X.QueryParamProvider,{adapter:J.Z,children:(0,n.jsx)(m.pj,{locale:"en-US",modalSize:"compact",theme:"dark"===i?(0,H.$)():(0,M.W)(),children:(0,n.jsx)($.A,{children:t})})})})})}):null}function PageLayout(e){let{children:t}=e;return(0,y.Vi)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Providers,{children:[(0,n.jsx)(Header,{}),(0,n.jsx)("div",{className:"min-h-[calc(100vh+1px)] h-auto pt-[80px] pb-6",children:t})]}),(0,n.jsx)(_.x,{position:"top-right",offset:70})]})}},8367:function(){}},function(e){e.O(0,[7495,1679,8559,4643,4775,7588,8869,1346,3848,5313,1834,1578,6287,7093,604,1744],function(){return e(e.s=96637)}),_N_E=e.O()}]);